<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AUM Ensemble</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Google Font: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300;14..32,400;14..32,500;14..32,600&display=swap" rel="stylesheet">
  <style>
    /* reset & base */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
  background-color: #0a0a0d; /* quasi nero elegante */
}
    body {
  background-color: transparent;
}

    html, body {
      height: 100vh;
      margin: 0;
      overscroll-behavior: none;
      overflow: hidden;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: transparent;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding: 2rem 1.5rem;
      position: relative;
      line-height: 1.6;
      color: #eaeaea;
    }

    /* Sfondo fisso (già ok) 
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at 30% 40%, #2a2a2a 0%, #0f0f0f 90%);
      z-index: -2;
    }
    */

    body::after {
      content: '';
      position: fixed;
      top: -20vh;
      right: -10vw;
      width: 60vmax;
      height: 60vmax;
      background: rgba(90, 90, 110, 0.1);
      border-radius: 50%;
      filter: blur(120px);
      z-index: -1;
      animation: slowDrift 28s infinite alternate ease-in-out;
    }

    .bg-blob {
      position: fixed;
      bottom: -15vh;
      left: -5vw;
      width: 70vmin;
      height: 70vmin;
      background: rgba(70, 70, 90, 0.08);
      border-radius: 50%;
      filter: blur(100px);
      z-index: -1;
      animation: slowDrift2 22s infinite alternate;
    }

/* Livello immagine (base64) – il più profondo */
.bg-image {
  position: fixed;
  inset: 0;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: -3;
  pointer-events: none;
}

/* Livello gradiente (sopra l'immagine) - molto più trasparente */
.bg-gradient {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at 30% 40%, rgba(42,42,42,0.25) 0%, rgba(15,15,15,0.4) 90%);
  z-index: -2;
  filter: grayscale(0.3);   /* ridotto leggermente */
  pointer-events: none;
}

/* Mantieni body::after e .bg-blob con z-index -1 */

    @keyframes slowDrift {
      0% { transform: translate(0, 0) scale(1); opacity: 0.5; }
      100% { transform: translate(8%, 6%) scale(1.2); opacity: 0.8; }
    }
    @keyframes slowDrift2 {
      0% { transform: translate(0, 0) scale(1.1); opacity: 0.4; }
      100% { transform: translate(-6%, -8%) scale(1.3); opacity: 0.7; }
    }

    body::before, body::after, .bg-blob {
      filter: grayscale(0.5);
    }

    /* Contenitore principale – inizialmente nascosto */
/* Aggiungi/substituisci nel blocco di .story-container */
.story-container {
  max-width: 1000px;
  width: 100%;
  height: 100%;
  background: rgba(18, 18, 22, 0.6);
  backdrop-filter: blur(14px) saturate(160%);
  -webkit-backdrop-filter: blur(14px) saturate(160%);
  border-radius: 3rem;
  padding: 1.5rem 2rem;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  -ms-overflow-style: none;
  /* Stacking context forzato */
  isolation: isolate;              /* <-- NUOVO */
  position: relative;              /* <-- GIA' PRESENTE? Se no, aggiungi */
  z-index: 1; 
  /* <-- NUOVO: positivo esplicito */
clip-path: inset(0 round 3rem);

  /* Nascondi inizialmente */
  opacity: 0;
  pointer-events: none;
}

    story-container::-webkit-scrollbar {
  display: none;                  /* Chrome / Safari */
    }
    /* Versione visibile (attivata da JS) */
    .story-container.visible {
      opacity: 1;
      pointer-events: auto;
      animation: fadeRise 1.2s cubic-bezier(0.2, 0.9, 0.3, 1) forwards;
    }

    @keyframes fadeRise {
      0% { opacity: 0; transform: translateY(30px) scale(0.98); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }

    /* Titoli e testo */
    h1, h2 {
      font-weight: 500;
      letter-spacing: -0.02em;
    }

    h1 {
      font-size: clamp(2.5rem, 8vw, 3.8rem);
      margin-bottom: 0.2rem;
      color: #ffffff;
      text-shadow: 0 2px 5px rgba(0,0,0,0.4);
      line-height: 1.1;
    }

    .tagline {
      font-size: 1.1rem;
      font-weight: 300;
      color: #c0c0c8;
      margin-bottom: 2.5rem;
      border-left: 4px solid rgba(210, 210, 230, 0.25);
      padding-left: 1.2rem;
      backdrop-filter: blur(4px);
    }

    .story-card {
      background: rgba(10, 10, 14, 0.45);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-radius: 2rem;
      padding: 1.8rem 2rem;
      margin: 2rem 0 2.8rem 0;
      border: 1px solid rgba(230, 230, 250, 0.08);
      box-shadow: 0 20px 30px -15px rgba(0,0,0,0.8);
      transition: transform 0.25s ease, box-shadow 0.4s ease;
      animation: cardGlow 6s infinite alternate;
    }

    .story-card:hover {
      overflow-y: auto;
      overflow-x: hidden;
      box-shadow: 0 30px 40px -15px #000000dd;
      border-color: rgba(230, 230, 250, 0.15);
    }

    @keyframes cardGlow {
      0% { box-shadow: 0 15px 30px -15px #000, 0 0 0 0 rgba(180,180,220,0); }
      100% { box-shadow: 0 15px 30px -10px #040408, 0 0 18px 3px rgba(140,140,180,0.15); }
    }

    .story-card p {
      margin-bottom: 1.3rem;
      font-weight: 300;
      color: #dddde6;
      font-size: 1.1rem;
    }

    .members-title {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      margin-bottom: 1.6rem;
      font-size: 1.8rem;
      font-weight: 450;
      color: #f0f0fa;
    }

    .members-title i {
      color: #b0b0c0;
      font-size: 1.8rem;
    }

    .member-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      justify-content: center;
  margin: 0 0 2rem 0;  /* allineato */
    }

    .member-card {
      background: rgba(22, 22, 28, 0.55);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 2.5rem;
      padding: 1.5rem 1.8rem;
      min-width: 170px;
      flex: 1 1 160px;
      border: 1px solid rgba(255, 255, 255, 0.02);
      box-shadow: 0 15px 25px -10px #00000080;
      transition: all 0.3s ease;
      animation: memberPop 0.8s backwards;
      animation-delay: calc(0.1s * var(--i, 0));
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      cursor: pointer;
    }

    .member-card:nth-child(1) { --i: 1; }
    .member-card:nth-child(2) { --i: 2; }
    .member-card:nth-child(3) { --i: 3; }

    @keyframes memberPop {
      0% { opacity: 0; transform: scale(0.9) translateY(20px); }
      100% { opacity: 1; transform: scale(1) translateY(0); }
    }

    .member-card:hover {
      transform: translateY(-8px) scale(1.02);
      background: rgba(32, 32, 40, 0.7);
      border-color: rgba(220, 220, 255, 0.2);
      box-shadow: 0 25px 30px -8px #050505;
    }

    .avatar {
      width: 85px;
      height: 85px;
      border-radius: 50%;
      background-size: cover;
      background-position: center;
      background-color: #2c2c34;
      margin-bottom: 1rem;
      box-shadow: 0 8px 15px #0000004d, 0 0 0 1px #3f3f4f inset;
      transition: 0.2s;
    }

    .member-card:hover .avatar {
      box-shadow: 0 10px 20px #00000066, 0 0 0 2px #a0a8d0 inset;
    }

    .member-name {
      font-size: 1.4rem;
      font-weight: 500;
      color: #ffffffec;
      margin-bottom: 0.25rem;
    }

    .member-role {
      font-size: 0.95rem;
      font-weight: 300;
      color: #afb5cc;
    }

    .band-footer {
      margin-top: 2.8rem;
      text-align: right;
      font-style: italic;
      font-weight: 300;
      color: #9fa6c0;
      border-top: 1px solid rgba(210, 210, 240, 0.1);
      padding-top: 1.5rem;
      font-size: 1rem;
      backdrop-filter: blur(5px);
    }

    .band-footer i {
      color: #a5a9c0;
      margin-right: 6px;
    }

    .band-footer span {
      font-style: normal;
      font-weight: 400;
      color: #cacae6;
    }

    .micro-detail {
      display: flex;
      gap: 0.5rem;
      margin-top: 0.8rem;
      opacity: 0.6;
      font-size: 0.9rem;
    }

    /* MODALE */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      max-width: 500px;
      width: 90%;
      background: rgba(18, 18, 22, 0.8);
      backdrop-filter: blur(16px) saturate(180%);
      border-radius: 2.5rem;
      padding: 2rem;
      box-shadow: 0 40px 60px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(220, 220, 240, 0.1) inset;
      border: 1px solid rgba(255, 255, 255, 0.05);
      transform: scale(0.95);
      transition: transform 0.3s ease;
      color: #f0f0fa;
      position: relative;
    }

    .modal-overlay.active .modal-content {
      transform: scale(1);
    }

    .modal-close {
      position: absolute;
      top: 1.2rem;
      right: 1.5rem;
      font-size: 1.8rem;
      color: #b0b0c0;
      cursor: pointer;
      background: none;
      border: none;
    }

    .modal-close:hover {
      color: #ffffff;
    }

    .modal-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background-size: cover;
      background-position: center;
      margin: 0 auto 1.5rem auto;
      box-shadow: 0 10px 20px #00000066, 0 0 0 2px #3f3f4f inset;
    }

    .modal-name {
      font-size: 2rem;
      font-weight: 500;
      text-align: center;
      margin-bottom: 0.5rem;
    }

    .modal-role {
      font-size: 1.1rem;
      font-weight: 300;
      color: #afb5cc;
      text-align: center;
      margin-bottom: 1.8rem;
    }

    .modal-bio {
      font-weight: 300;
      color: #dddde6;
      font-size: 1rem;
      line-height: 1.7;
      border-top: 1px solid rgba(210, 210, 240, 0.15);
      padding-top: 1.5rem;
    }

    /* NAVIGAZIONE */
    nav ul {
      display: flex;
      justify-content: center;
      gap: 2rem;
      list-style: none;
      margin-bottom: 2.5rem;
      padding: 0.5rem 0;
      border-bottom: 1px solid rgba(210, 210, 230, 0.2);
      flex-wrap: wrap;
    }

    nav a {
      color: #b0b0c0;
      text-decoration: none;
      font-weight: 400;
      padding: 0.5rem 0;
      transition: color 0.2s, border-color 0.2s;
      border-bottom: 2px solid transparent;
    }

    nav a:hover {
      color: #ffffff;
    }

    nav a.active {
      color: #ffffff;
      border-bottom-color: #a0a8d0;
    }

    .pages-container {
      position: relative;
    }

    .page {
      display: none;
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    .page.active {
      display: block;
      animation: fadeIn 0.4s ease forwards;
    }

    /* VIDEO */
    .video-card {
      padding-bottom: 1.5rem;
    }

    .video-title {
      font-size: 1.3rem;
      font-weight: 400;
      margin-bottom: 1.2rem;
      color: #f0f0fa;
      border-left: 3px solid rgba(160, 168, 208, 0.5);
      padding-left: 1rem;
    }

    .video-container {
      position: relative;
      width: 100%;
      aspect-ratio: 16 / 9;
      border-radius: 1.5rem;
      overflow: hidden;
      box-shadow: 0 15px 30px -10px #00000080;
    }

    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 102%;
      height: 102%;
      border: none;
    }

    /* MEDIA QUERY PER MOBILE */
    @media (max-width: 550px) {
      .story-container {
        padding-left: 0.5rem;
        padding-right: 0.5rem;
    padding-bottom: 4rem;      }

      .video-title {
        font-size: 1.1rem;
        padding-left: 0.8rem;
        margin-bottom: 3rem;
      }
.band-footer:last-child {
  margin-bottom: 2rem;
}
      .story-card {
        padding: 1.2rem 0.8rem;
        margin-left: 0;
        margin-right: 0;
        margin-bottom: 3.5rem; /* aumenta lo spazio sotto la card */
      }

      .modal-content {
        padding: 1.5rem;
      }
      .modal-avatar {
        width: 80px;
        height: 80px;
      }
      .modal-name {
        font-size: 1.6rem;
      }
    }

    /* ACCELERAZIONE GPU (opzionale) */
    .bg-blob, .story-container {
      will-change: transform;
      transform: translateZ(0);
    }

    /* ELIMINA EVIDENZIAZIONE TAP */
    * {
      -webkit-tap-highlight-color: transparent;
    }

    a:focus, button:focus, .member-card:focus {
      outline: none;
    }

    /* SPLASH SCREEN */
    .splash {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      pointer-events: none;
      animation: fadeOutSplash 1s ease-in-out 1s forwards;
    }

    .splash-content {
      text-align: center;
      color: white;
      text-shadow: 0 0 20px rgba(0,0,0,0.5);
    }

    .splash-title {
      font-size: clamp(3rem, 15vw, 6rem);
      font-weight: 800;
      letter-spacing: 2px;
      margin-bottom: 0.5rem;
      line-height: 1.2;
    }

    .splash-year {
      font-size: clamp(1.2rem, 5vw, 2rem);
      font-weight: 300;
      opacity: 0.9;
      letter-spacing: 3px;
    }

.splash.fade-out {
  animation: fadeOutSplash 2s ease-in-out forwards;
}

@keyframes fadeOutSplash {
  0% { opacity: 1; visibility: visible; }
  100% { opacity: 0; visibility: hidden; }
}

    /* Assicura che TUTTI gli elementi di sfondo stiano sotto */
.bg-image,
.bg-gradient,
body::after,
.bg-blob {
  z-index: -1;                     /* <-- MODIFICA: tutti a -1 */
  /* Mantieni le altre proprietà invariate */
}

/* Se vuoi mantenere una gerarchia, lascia .bg-image a -3, ma il contenuto a 1 */
.bg-image { z-index: -3; }         /* OK, resta sotto */
.bg-gradient { z-index: -2; }       /* OK */
body::after, .bg-blob { z-index: -1; } /* OK, ma sopra il gradiente */
    /* Stato iniziale neutro */


/* Quando l'immagine è valida */
body.bg-loaded .bg-image {
  opacity: 1;
}

/* FALLBACK se immagine assente */
body.bg-fallback {
  background: radial-gradient(
    circle at 20% 30%,
    #1a1a24 0%,
    #0f0f14 60%,
    #0a0a0d 100%
  );
}
    /* Transizione per il blur */
.bg-image {
    filter: blur(10px); /* applica il blur immediatamente */
  /*transition: filter 1s ease;  Aggiungi questa linea alla definizione esistente */
}

/* Classe che attiva il blur */
.bg-image.blurred {
  filter: blur (10px); /* Regola il valore per ottenere l'effetto desiderato */
}


    /* Stili per il form di prenotazione */
.booking-modal {
  max-width: 550px;
  background: rgba(18, 18, 22, 0.9) !important;
}

.booking-modal h2 {
  font-weight: 400;
  color: #f0f0fa;
  letter-spacing: -0.5px;
}

.form-group {
  margin-bottom: 1.4rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.4rem;
  font-weight: 300;
  color: #b0b0c0;
  font-size: 0.95rem;
  letter-spacing: 0.3px;
}

.form-group input,
.form-group textarea {
  width: 100%;
  padding: 0.9rem 1.2rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(230, 230, 250, 0.15);
  border-radius: 2rem;
  font-family: 'Inter', sans-serif;
  font-size: 1rem;
  color: #f0f0fa;
  transition: all 0.2s;
  backdrop-filter: blur(4px);
}

.form-group input:focus,
.form-group textarea:focus {
  outline: none;
  border-color: #a0a8d0;
  background: rgba(255, 255, 255, 0.1);
  box-shadow: 0 0 0 3px rgba(160, 168, 208, 0.2);
}

.form-group input::placeholder,
.form-group textarea::placeholder {
  color: rgba(200, 200, 220, 0.4);
  font-weight: 300;
}

.form-row {
  display: flex;
  gap: 1rem;
}

.form-row .half {
  flex: 1;
}

.form-footer {
  margin-top: 2rem;
  text-align: right;
}

.submit-btn {
  background: rgba(160, 168, 208, 0.2);
  border: 1px solid rgba(160, 168, 208, 0.4);
  color: #f0f0fa;
  padding: 0.9rem 2.2rem;
  border-radius: 3rem;
  font-size: 1.1rem;
  font-weight: 400;
  cursor: pointer;
  transition: all 0.25s;
  backdrop-filter: blur(6px);
  display: inline-flex;
  align-items: center;
  gap: 0.7rem;
}

.submit-btn:hover {
  background: rgba(160, 168, 208, 0.35);
  border-color: #a0a8d0;
  transform: scale(1.02);
  box-shadow: 0 10px 20px -8px #00000080;
}

.booking-btn {
  background: rgba(10, 10, 14, 0.6);
  border: 1px solid rgba(230, 230, 250, 0.2);
  color: #f0f0fa;
  padding: 0.6rem 2rem;
  border-radius: 3rem;
  font-size: 1.4rem;
  font-weight: 300;
  cursor: pointer;
  backdrop-filter: blur(8px);
  transition: all 0.3s;
  margin-bottom: 1rem;
}

.booking-btn:hover {
  background: rgba(30, 30, 40, 0.8);
  border-color: #a0a8d0;
  transform: translateY(-2px);
}

/* Toast di conferma */
.toast-message {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: rgba(18, 18, 22, 0.9);
  backdrop-filter: blur(16px);
  color: #f0f0fa;
  padding: 1rem 2rem;
  border-radius: 3rem;
  border: 1px solid rgba(160, 168, 208, 0.5);
  box-shadow: 0 15px 30px -10px #000;
  font-weight: 400;
  font-size: 1.1rem;
  z-index: 2000;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.3s, transform 0.3s;
  pointer-events: none;
}

.toast-message.show {
  opacity: 1;
  transform: translateY(0);
  pointer-events: none;
}

/* Piccolo aggiustamento responsive per il form */
@media (max-width: 550px) {
  .form-row {
    flex-direction: column;
    gap: 0;
  }
  .booking-modal {
    padding: 1.5rem;
  }
}

    .submit-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

    /* Validazione campi - elegante rosso/verde */
.form-group input.is-valid,
.form-group input.is-valid:focus {
  border-color: rgba(80, 150, 80, 0.8) !important;
  box-shadow: 0 0 0 3px rgba(80, 150, 80, 0.25) !important;
}

.form-group input.is-invalid,
.form-group input.is-invalid:focus {
  border-color: rgba(200, 90, 90, 0.8) !important;
  box-shadow: 0 0 0 3px rgba(200, 90, 90, 0.25) !important;
}

/* Data di default mantiene lo stile base finché non interagita */
    
  </style>
</head>
<body>
  <div class="bg-gradient"></div>
  <div class="bg-image"></div>
  <div class="bg-blob"></div>
  <div class="splash">
    <div class="splash-content">
      <h1 class="splash-title">Aum Ensemble</h1>
      <p class="splash-year">est. 2025</p>
    </div>
  </div>

  <!--<div class="bg-blob"></div>-->

  <main class="story-container">
    <nav>
      <ul>
        <li><a href="javascript:void(0)" class="nav-link active" data-page="home">Home</a></li>
        <li><a href="javascript:void(0)" class="nav-link" data-page="discography">Discography</a></li>
        <li><a href="javascript:void(0)" class="nav-link" data-page="playlists">Playlists</a></li>
        <li><a href="javascript:void(0)" class="nav-link" data-page="contacts">Contacts & Book us for events!</a></li>

      </ul>
    </nav>

    <div class="pages-container">
      <!-- Home -->
      <section class="page active" id="home">
        <h1>AUM Ensemble</h1>
        <div class="tagline">
          <i class="fa-solid fa-wave-square" style="margin-right: 8px;"></i> 
          AUM Ensemble · est. 2025
        </div>
        <div class="story-card">
          <p><i class="fa-solid fa-quote-left" style="opacity: 0.5; margin-right: 6px;"></i>In the hazy winter of 2014, four friends from different corners of the city found themselves sharing a damp rehearsal room in the outskirts. What started as casual improvisations soon turned into <span style="font-weight: 400; color: #ffffff;">Velvet Echoes</span> — a band built on textured guitars, whispering synths, and rhythms that feel like a slow exhale.</p>
          <p>Their first EP, <em>"flicker"</em>, was recorded in a basement with a single microphone and a cracked interface. Yet it captured something raw: the quiet longing of nocturnal creatures. Over the years, they’ve released three albums, played tiny clubs and forgotten lofts, always keeping the music intimate, the melodies wrapped in reverb and soft distortion.</p>
          <p>Today, they still write in the same cramped space — now with slightly better gear — and their story continues to unfold in minor chords and whispered harmonies.</p>
          <div class="micro-detail"><i class="fa-regular fa-compass"></i> 3 albums · 2 eps · endless twilight</div>
        </div>
        <div class="members-title"><i class="fa-regular fa-user"></i> <span>shadows & strings</span></div>
        <div class="member-grid">
          <div class="member-card" data-member="mara"><div class="avatar" id="avatar1"></div><div class="member-name">Tizio B.</div><div class="member-role">Cymbals</div></div>
          <div class="member-card" data-member="sol"><div class="avatar" id="avatar2"></div><div class="member-name">Daniele Cognome?</div><div class="member-role">Trumpet</div></div>
          <div class="member-card" data-member="eliot"><div class="avatar" id="avatar3"></div><div class="member-name">Marco Tencati Corino</div><div class="member-role">Guitar</div></div>
        </div>
        <div class="band-footer"><i class="fa-regular fa-star"></i> “we play for the ones who listen in the dark” <span> — from a late night session, 2023</span></div>
      </section>

      <!-- Discografia -->
      <section class="page" id="contacts">
  <div class="booking">
  <!-- MODALE PRENOTAZIONE -->
<div class="story-card" id="bookingModal">
    <h2 style="font-size: 2rem; margin-bottom: 1rem; text-align: center;">Book the ensemble</h2>
    <form id="bookingForm">
      <div class="form-group">
        <label for="name">First name *</label>
        <input type="text" id="name" name="name" required placeholder="First name">
      </div>
      <div class="form-group">
        <label for="surname">Last name</label>
        <input type="text" id="surname" name="surname" placeholder="Last name (optional)">
      </div>
      <div class="form-row">
        <div class="form-group half">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" placeholder="Your email">
        </div>
        <div class="form-group half">
          <label for="phone">Phone</label>
          <input type="tel" id="phone" name="phone" placeholder="Your phone">
        </div>
      </div>
      <div class="form-group">
        <label for="date">Event date *</label>
        <input type="date" id="date" name="date" required>
      </div>
      <div class="form-group">
        <label for="notes">Special Requests</label>
        <textarea id="notes" name="notes" rows="3" placeholder="Write something..."></textarea>
      </div>
      <div class="form-footer">
        <button type="submit" class="submit-btn">Send booking request! <i class="fa-regular fa-paper-plane"></i></button>
      </div>
    </form>
 </div>
</div>

      
                <h1>Contacts</h1>
                <div class="story-card">
                  30539430430
                  <p></p>
                  mailmail@gmail.com
                  <p></p>
                  Den Haag
                  <p></p>
                  via abcde 23
                  <p></p>
                  nederlands
                </div>

        <div class="band-footer"><i class="fa-regular fa-star"></i> — Contacts & booking —</div>
      </section>

      <!-- Discografia -->
      <section class="page" id="discography">
        <h1>discography</h1>
        <div class="tagline">  
        album, ep, singoli
        </div>
        <div class="story-card">
          <p><strong>2023</strong>
            – “flicker” (EP)
          </p><p>
            <strong>2021</strong>
            – “endless twilight” (album)
          </p><p>
            ... altri dischi.
          </p></div>
        
        <div class="band-footer"><i class="fa-regular fa-star"></i> — discografia —</div>
      </section>
      

      <!-- Playlists -->
      <section class="page" id="playlists">
        <h1>playlists & video</h1>
        <div class="story-card video-card">
          <h2 class="video-title">Dhikr for a Wedding - Kinan Azmeh, arr. AuM Ensemble</h2>
          <div class="video-container">
            <iframe src="https://www.youtube.com/embed/HRCTLhiWTus" title="Dhikr for a Wedding - Kinan Azmeh, arr. AuM Ensemble" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
          </div>
        </div>
        <div class="band-footer"><i class="fa-regular fa-star"></i> — playlist —</div>
      </section>
    </div>
  </main>

  <!-- MODALE -->
  <div class="modal-overlay" id="memberModal">
    <div class="modal-content">
      <button class="modal-close" id="modalClose">&times;</button>
      <div class="modal-avatar" id="modalAvatar"></div>
      <div class="modal-name" id="modalName"></div>
      <div class="modal-role" id="modalRole"></div>
      <div class="modal-bio" id="modalBio"></div>
    </div>
  </div>

<!-- TOAST DI CONFERMA (inizialmente nascosto) -->
<div id="confirmationToast" class="toast-message">Booking Request sent! thank you!</div>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
  (function(){
    emailjs.init("YOUR_PUBLIC_KEY"); // ← metti la tua public key
  })();
</script>

  
<script>
document.addEventListener('DOMContentLoaded', function() {
  const splash = document.querySelector('.splash');
  const container = document.querySelector('.story-container');

  if (splash) {
    splash.classList.add('show');
  }
  setTimeout(() => {
    if (splash) {
      splash.classList.add('fade-out');
      setTimeout(() => {
        splash.remove();
      }, 1000);
    }
    if (container) {
      container.classList.add('visible');
    }
  }, 2000);
});
// Gestione form di prenotazione con validazione in tempo reale e colori
document.addEventListener('DOMContentLoaded', function() {
  const bookingForm = document.getElementById('bookingForm');
  const toast = document.getElementById('confirmationToast');
  const submitBtn = document.querySelector('.submit-btn');
  
  // Riferimenti ai campi
  const nameInput = document.getElementById('name');
  const surnameInput = document.getElementById('surname');
  const emailInput = document.getElementById('email');
  const phoneInput = document.getElementById('phone');
  const dateInput = document.getElementById('date');
  const notesInput = document.getElementById('notes');

  // Helper: rimuove classi di validazione
  function resetValidationStyle(input) {
    input.classList.remove('is-valid', 'is-invalid');
  }

  // Validazione formato email
  function isValidEmail(email) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  }

  // Validazione formato telefono (almeno 8 cifre, può contenere +, spazi, trattini)
  function isValidPhone(phone) {
    return /^[+]?[0-9\s\-]{8,}$/.test(phone);
  }

  // Valida un singolo campo e applica la classe appropriata
  function validateField(input) {
    // Campo nome (obbligatorio)
    if (input === nameInput) {
      nameInput.value.trim() === '' 
        ? (nameInput.classList.add('is-invalid'), nameInput.classList.remove('is-valid'))
        : (nameInput.classList.add('is-valid'), nameInput.classList.remove('is-invalid'));
    }
    // Campo data (obbligatoria, futura)
    else if (input === dateInput) {
      const dateVal = dateInput.value;
      const today = new Date().toISOString().split('T')[0];
      if (!dateVal || dateVal < today) {
        dateInput.classList.add('is-invalid');
        dateInput.classList.remove('is-valid');
      } else {
        dateInput.classList.add('is-valid');
        dateInput.classList.remove('is-invalid');
      }
    }
    // Campi email e phone (almeno uno valido)// Campi email e phone (almeno uno valido)
else if (input === emailInput || input === phoneInput) {
  const emailVal = emailInput.value.trim();
  const phoneVal = phoneInput.value.trim();
  const emailValid = isValidEmail(emailVal);
  const phoneValid = isValidPhone(phoneVal);

  const atLeastOneValid = emailValid || phoneValid;

  // Se nessuno dei due è valido → entrambi rossi
  if (!atLeastOneValid) {
    emailInput.classList.add('is-invalid');
    emailInput.classList.remove('is-valid');

    phoneInput.classList.add('is-invalid');
    phoneInput.classList.remove('is-valid');
  } else {
    // Email
    if (emailVal !== '') {
      emailValid
        ? (emailInput.classList.add('is-valid'), emailInput.classList.remove('is-invalid'))
        : (emailInput.classList.add('is-invalid'), emailInput.classList.remove('is-valid'));
    } else {
      emailInput.classList.remove('is-invalid', 'is-valid');
    }

    // Phone
    if (phoneVal !== '') {
      phoneValid
        ? (phoneInput.classList.add('is-valid'), phoneInput.classList.remove('is-invalid'))
        : (phoneInput.classList.add('is-invalid'), phoneInput.classList.remove('is-valid'));
    } else {
      phoneInput.classList.remove('is-invalid', 'is-valid');
    }
  }
}
    // Per cognome e note nessuna validazione
    else {
      resetValidationStyle(input);
    }
  }

  // Valida tutti i campi e restituisce true se il form è complessivamente valido
  function validateForm() {
    // Aggiorna i colori di tutti i campi
    validateField(nameInput);
    validateField(dateInput);
    validateField(emailInput);
    validateField(phoneInput);
    validateField(surnameInput); // pulisce eventuali residui
    validateField(notesInput);   // pulisce eventuali residui

    // Condizioni per abilitare il pulsante
    const nameOk = nameInput.value.trim() !== '';
    const dateOk = dateInput.value !== '' && dateInput.value >= new Date().toISOString().split('T')[0];
    const contactOk = isValidEmail(emailInput.value.trim()) || isValidPhone(phoneInput.value.trim());

    return nameOk && dateOk && contactOk;
  }

  // Aggiorna stato pulsante
  function updateButtonState() {
    submitBtn.disabled = !validateForm();
  }

  // Pulisci form all'avvio
  bookingForm.reset();
  [nameInput, surnameInput, emailInput, phoneInput, dateInput, notesInput].forEach(resetValidationStyle);
  setTimeout(updateButtonState, 50);

  // Listener su tutti i campi rilevanti
  [nameInput, dateInput, emailInput, phoneInput, surnameInput].forEach(input => {
    input.addEventListener('input', updateButtonState);
    input.addEventListener('change', updateButtonState);
  });

  // Gestione submit
bookingForm.addEventListener('submit', function(e) {
  e.preventDefault();
  
  if (!validateForm()) return;

  submitBtn.disabled = true; // blocca doppio click

  const name = nameInput.value.trim();
  const surname = surnameInput.value.trim();
  const email = emailInput.value.trim();
  const phone = phoneInput.value.trim();
  const date = dateInput.value;
  const notes = notesInput.value.trim();

  const templateParams = {
    name: name,
    surname: surname,
    email: email,
    phone: phone,
    date: date,
    notes: notes
  };

  emailjs.send(
    "YOUR_SERVICE_ID",   // ← service ID
    "YOUR_TEMPLATE_ID",  // ← template ID
    templateParams
  )
  .then(function(response) {
    toast.classList.add("show");
    setTimeout(() => toast.classList.remove("show"), 3000);

    bookingForm.reset();
    [nameInput, surnameInput, emailInput, phoneInput, dateInput, notesInput]
      .forEach(resetValidationStyle);

    updateButtonState();
    submitBtn.disabled = false;
  })
  .catch(function(error) {
    alert("Something went wrong. Please contact us directly.");
    submitBtn.disabled = false;
  });
});
});
</script>

  <script src="app.js"></script>
  <script src="articles.js"></script>
  <script src="router.js"></script>
</body>
</html>
